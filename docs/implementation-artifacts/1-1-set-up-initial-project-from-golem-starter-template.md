# Story 1.1: Set Up Initial Project from Golem Starter Template







































































Status: done







































































<!-- Note: Validation is optional. Run validate-create-story for quality check before dev-story. -->







































































## Story







































































As a platform builder,



































I want to initialize the project using the golem starter template,



































so that the application starts from the approved scaffold and conventions.







































































## Acceptance Criteria







































































1. Given the project is initialized from the documented starter template, when the scaffold is created, then the golem project structure is generated with the agreed package name (OmniOmicsHub).



































2. Given the project is initialized, when the scaffold steps complete, then the initialization steps are captured so they can be repeated deterministically.



































3. Given scaffold creation fails, when the error occurs, then the error is surfaced with actionable guidance and no partial project state is recorded.







































































## Tasks / Subtasks







































































- [x] Task 1: Initialize golem scaffold (AC: 1)



































  - [x] Subtask 1.1: Run `golem::create_golem("OMNI_OMICS_HUB", open = FALSE, package_name = "OmniOmicsHub")` from the parent directory and verify package structure exists (underscore in package name is invalid).



































  - [x] Subtask 1.2: Ensure package name and root structure match architecture-defined layout expectations.



































- [x] Task 2: Capture deterministic initialization steps (AC: 2)



































  - [x] Subtask 2.1: Add a short, repeatable setup section in `README.md` documenting the exact init commands and any prerequisites.



































  - [x] Subtask 2.2: Note any intentional deferrals (e.g., `renv::init()`) and when to run them.



































- [x] Task 3: Fail-safe guidance (AC: 3)



































  - [x] Subtask 3.1: Document how to clean partial scaffold output and retry if `create_golem()` fails.



































  - [x] Subtask 3.2: Add explicit cleanup steps: if a nested `OMNI_OMICS_HUB/` folder was created inside the repo root, delete that folder and remove any generated `renv/` or `renv.lock` artifacts before re-running `create_golem()`.







































































## Dev Notes







































































### Developer Context







































































- Stack: R + Shiny using golem scaffolding; bslib theming and bsicons. [Source: docs/architecture.md#Starter Template Evaluation]



































- Initialization commands are defined in architecture and should be followed exactly. [Source: docs/architecture.md#Selected Starter: golem]



































- `renv.lock` updates are explicit only and require approval; do not change as side-effect. [Source: docs/project-context.md#Development Workflow Rules]







































































### Technical Requirements







































































- Use `golem::create_golem("OMNI_OMICS_HUB", open = FALSE)` for the scaffold. [Source: docs/architecture.md#Selected Starter: golem]



































- `renv::init()` may be deferred until dependency selection is confirmed to avoid churn. [Source: docs/architecture.md#Selected Starter: golem]



































- testthat is the mandatory unit test framework; shinytest2 only for a small gated set of e2e flows. [Source: docs/architecture.md#Testing Framework]







































































### Architecture Compliance







































































- Follow golem package structure and boundary rules: domain/state/persistence/provenance separation, modules in `R/modules/`, no module file IO. [Source: docs/architecture.md#Project Structure & Boundaries]



































- Use `snake_case` for functions/variables; S4 classes remain `OmicsProject`, `OmicsWorkspace`, `OmicsDataset`. [Source: docs/project-context.md#Language-Specific Rules]



































- All file paths must be resolved via the path resolver in `R/persistence/` once code is added. [Source: docs/project-context.md#Language-Specific Rules]







































































### Library / Framework Requirements (Latest Check)







































































- golem latest stable is 0.5.1 (CRAN). [Source: https://cran.r-project.org/package=golem]



































- Architecture pins golem 0.5.1 as the baseline. [Source: docs/architecture.md#Dependency Sourcing Notes]







































































### File Structure Requirements







































































- Expected initial structure from architecture:



































  - `R/` for domain/services/modules/utilities



































  - `inst/` for assets/config



































  - `tests/` for testthat and shinytest2



































  - `DESCRIPTION`, `NAMESPACE`, `renv.lock`



































  [Source: docs/architecture.md#Project Structure & Boundaries]







































































### Testing Requirements







































































- Create or update testthat scaffolding only if the template does not include it; do not add UI tests in this story. [Source: docs/architecture.md#Testing Framework]







































































### Project Structure Notes







































































- Target project structure and module boundaries are defined and must match the architecture layout; flag any scaffold deviations immediately. [Source: docs/architecture.md#Project Structure & Boundaries]







































































### Cleanup Guidance (Failure Recovery)







































































- If scaffold creation fails and a nested `OMNI_OMICS_HUB/` directory exists inside the repo root, delete that folder and any stray `renv/` or `renv.lock` artifacts before retrying. This prevents corrupted or mixed scaffolds. [Source: docs/epics.md#Story 1.1]







































































### References







































































- Story requirements and acceptance criteria: docs/epics.md#Story 1.1



































- Starter scaffold commands and stack: docs/architecture.md#Selected Starter: golem



































- Dependency and testing policies: docs/project-context.md#Technology Stack & Versions







































































## Dev Agent Record







































































### Agent Model Used







































































GPT-5 (Codex CLI)







































































### Debug Log References



































- 2025-12-28: `golem::create_golem("OMNI_OMICS_HUB")` rejected underscore package name; used `package_name = "OmniOmicsHub"` with `options(usethis.allow_nested_project = TRUE)` to scaffold in repo root.



































- 2025-12-28: golem could not rename `REMOVEME.Rbuildignore` due to access denied; created `.Rbuildignore` manually and could not delete the REMOVEME file (permissions).



































- 2025-12-28: Unnested scaffold to repo root; updated README and scaffold test to reflect root package layout.



































- 2025-12-28: Package name officially set to `OmniOmicsHub` due to underscore restriction (approved).







































































### Implementation Plan



































- Run golem scaffold into `OMNI_OMICS_HUB/` with package name `OmniOmicsHub` while allowing nested project creation.



































- Add testthat scaffolding because the template lacked a tests directory; verify scaffold structure with testthat.



































- Document setup, deferrals, and failure cleanup in `README.md`.







































































### Completion Notes List



































- Implemented golem scaffold in `OMNI_OMICS_HUB/` with package name `OmniOmicsHub` and added testthat scaffolding in the package.



































- Documented deterministic setup steps, deferrals, and failure-recovery cleanup in `README.md`.



































- Expanded scaffold structure tests to cover architecture-required directories and package name.



































- Removed overly broad build ignore pattern and added placeholder directories for architecture structure.



































- Tests: `Rscript -e "testthat::test_dir('tests/testthat')"`



































- Updated docs/tests after unnesting so repo root is the package root.







































































### Review Summary (2025-12-28)











- Noted scaffold files are currently untracked and will be added/committed after Story 1 completion.











- Updated README to include nested-project option and cleanup guidance; aligned Task 3.2 wording; set DESCRIPTION title/author/license.











- Clarified scaffold command and renv timing (deferred to Story 1.6) in `README.md`.











- Updated failure recovery to avoid deleting repo root; listed explicit scaffolded outputs to remove.











- Fixed `.Rbuildignore` to avoid ignoring all files; added `.gitkeep` ignore only.











- Added architecture directory skeletons with `.gitkeep` placeholders.











- Expanded `tests/testthat/test_scaffold_structure.R` to assert package name and full architecture directory structure.























### File List
- docs/architecture.md
- docs/epics.md
- docs/prd.md
- docs/implementation-readiness-report-2025-12-27.md (deleted)
- docs/prototype_V1/index.html (deleted)
- docs/prototype_V1/omics-dashboard.html (deleted)
- docs/prototype_V1/project-dashboard.html (deleted)
- docs/prototype_V1/styles.css (deleted)
- docs/prototype_V1/workspace.html (deleted)



































- README.md



































- docs/implementation-artifacts/1-1-set-up-initial-project-from-golem-starter-template.md



































- docs/implementation-artifacts/sprint-status.yaml



































- .here



































- .Rbuildignore



































- .gitignore



































- DESCRIPTION



































- NAMESPACE



































- OMNI_OMICS_HUB.Rproj



































- dev/01_start.R



































- dev/02_dev.R



































- dev/03_deploy.R



































- dev/run_dev.R



































- inst/golem-config.yml



































- inst/app/www/favicon.ico



































- inst/assets/.gitkeep



































- inst/assets/icons/.gitkeep



































- inst/assets/images/.gitkeep



































- inst/config/.gitkeep



































- man/run_app.Rd



































- R/app_config.R



































- R/app_server.R



































- R/app_ui.R



































- R/run_app.R



































- R/domain/.gitkeep



































- R/modules/.gitkeep



































- R/modules/configuration/.gitkeep



































- R/modules/configuration/step_00_properties/.gitkeep



































- R/modules/configuration/step_01_import/.gitkeep



































- R/modules/configuration/step_02_mapping/.gitkeep



































- R/modules/configuration/step_03_rowdata/.gitkeep



































- R/modules/configuration/step_04_coldata/.gitkeep



































- R/modules/preprocessing/.gitkeep



































- R/modules/preprocessing/step_01_filtering/.gitkeep



































- R/modules/preprocessing/step_02_normalization/.gitkeep



































- R/modules/preprocessing/step_03_imputation_scaling/.gitkeep



































- R/modules/preprocessing/step_04_variable_features_dr/.gitkeep



































- R/modules/project_dashboard/.gitkeep



































- R/modules/workspace_dashboard/.gitkeep



































- R/modules/workspace_nav/.gitkeep



































- R/modules/workspace_stepper/.gitkeep



































- R/persistence/.gitkeep



































- R/provenance/.gitkeep



































- R/services/.gitkeep



































- R/state/.gitkeep



































- R/utils/.gitkeep



































- tests/testthat.R



































- tests/testthat/test_scaffold_structure.R







































































## Change Log



































- 2025-12-28: Initialized golem scaffold, added test scaffolding, and documented setup and failure recovery steps.



































- 2025-12-28: Unnested scaffold to repo root; updated README and scaffold test for root package layout.



































- 2025-12-28: Added architecture directories, expanded scaffold tests, and clarified recovery steps.



































- 2025-12-28: Review fixes applied (README, .Rbuildignore, scaffold dirs, expanded tests).



































